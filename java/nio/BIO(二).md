# BIO(二)

> https://zhuanlan.zhihu.com/p/150974542



## 前置知识点

为了保护操作系统安全，会将内存 **用户空间** 和 **内核空间** 两个部分。**如果用户想要操作内核空间的数据，则需要把数据从内核空间拷贝到用户空间**。



如果服务器收到了从客户端过来的请求，并且想要进行处理，那么需要经过这几个步骤：

- 服务器的网络驱动接收到消息之后，向内核申请空间，并在收到完整的数据包（这个过程会产生延时，因为有可能是通过分组传送过来的）后，将其复制到内核空间；
- 数据从内核空间拷贝到用户空间；
- 用户程序进行处理。



因此我们可以将服务器接收消息理解为两个阶段：

- **等待数据到达**
- **将数据从内核空间拷贝到用户空间**



### 几种IO

#### 同步io

当用户发出io请求操作，内核会查看读取数据是否就绪，如果没有就一直等待。期间用户线程或内存会不断轮询数据是否就绪。当数据就绪时，再把数据从内核拷贝到用户空间



